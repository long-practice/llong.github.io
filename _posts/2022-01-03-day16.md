# 16일차(Cloud Computing, API, Model Serving)

4주차(21.12.27.(월) ~ 21.12.31.(금)): flask 서버와 EDA 프로젝트
* flask 서버를 이용한 REST API 구성
* AWS를 이용한 인공지능 모델 배포
* numpy, pandas, matplotlib을 이용한 탐색적 데이터 분석
* weekly mission을 통한 실습

### 클라우드(Cloud)
#### 클라우드 이전
- 클라우드 이전에는 인터넷 환경에서 서비스를 제공하기 위해 **서비스 제공자는 서비스 호스팅을 위한 모든 것들을 직접 구축**<br>
  ex)데이터 센터를 구축 시 서비스 아키텍처나 자원 예상 사용량 등을 고려해 구축<br>
  데이터 센터(물리적 공간), 서버 및 저장소, 네트워크 방화벽, 운영체제, 기타 개발도구, 전기 온도 습도관리, 운영 관리 인력 등<br>
- 직접 서버를 구축하고 운영하는 **자원과 인력비용이 너무 크고, 운영 상황의 변화에 능동적으로 대응 어려움**

#### IDC(Interrent Data Center)
- **서버 운영에 필요한 공간, 네트워크, 유지 보수 등의 서비스 제공**
- IDC 입주자가 직접 서버를 구입해 들여오기도 하지만 불필요한 또는 유휴 자원이 발생하기 때문에 IDC에서 서버를 임대해주기도 함
- 인터넷 사용자가 급증하고 다양한 서비스를 제공하게 되면서 필요한 만큼 서버를 증설하기 원하는 주문형 수요 증가
- 개별 서버 자원 사용률 평균 10~15%, 다른 여러 사용자와 사용을 공유함으로써 사용률을 향상시켜 자원의 효율적인 활용과 이를 통한 비용절감 추구
- 그러나 사용자 접속량이 늘어나 컴퓨팅 수요가 증가할 때에는 **오토 스케일링**필요, 또한 평상시 사용하지 않는 유휴자원이 존재

### Cloud Computing
- 언제 어디서나 **필요한만큼 컴퓨팅 자원을 필요한 시간만큼 인터넷을 통하여 활용**하는 컴퓨팅 방식
- 빅데이터 수집, 저장, 분석을 위한 방대한 컴퓨팅 자원과 모든 것들을 별도로 구입하지 않고도 적은 비용으로 빠르게 필요한 IT환경 구축 가능
<br><br>

<strong>특징</strong>
1. 속도: 주문형 셀프 서비스로 클라우드 제공자와 별도의 커뮤닠케이션 없이 원하는 클라우드 서비스 이용 가능
2. 접근성: 인터넷을 이용하여 사용자의 위치, 시간과 관계없이 어떤 디바이스로도 접근 가능
3. 확장성: 갑작스러운 이용량 증가나 변화에 신속하고 유연한 추가 확장 가능
4. 생산성: 하드웨어, 소프트웨어 설치에 들어가는 시간과 비용절감으로 핵심업무 집중
5. 보안 및 안정성: 클라우드 제공자가 전체적으로 보안, 안정성에 준비
6. 측정 가능성: 분초 단위로 사용자가 클라우드 서비스를 사용한 만큼만 계량하여 과금(효율적인 관리)
<br><br>

<strong>운용 모델</strong>
1. 퍼블릭(public) 클라우드<br>
  - 서비스 유지를 위한 모든 인프라 IT기술을 클라우드에서 사용
  - IT관리 인력이나 인프라 구축 비용이 없을 경우 유용
<br><br>

2. 프라이빗(private) 클라우드<br>
  - 고객이 자체 데이터 센터에서 직접 클라우드 서비스를 구축
  - 내부 계열사나 고객에게만 제공하기 때문에 인프라 확충은 쉬우나 IT기술 확보가 어려움
  - 보안이 좋고 커스터마이제이션이 가능
  - 글로벌 클라우드 사업자가 IT기술만 패키지형태로 판매
<br><br>

3. 하이브리드(hybrid) 클라우드<br>
  - 고객의 핵심 시스템은 내부에 두면서 외부의 클라우드를 활용하는 형태
  - IT기술은 클라우드에서 받고 서비스 유지를 위한 인프라는 고객의 것을 활용
  - 퍼블릭의 경제성과 프라이빗의 보안성을 결합한 형태
<br><br>

4. 멀티(multi) 클라우드<br>
  - 서로 다른 업체 2곳 이상의 퍼블릭 혹은 프라이빗 클라우드를 이용하여 하나의 서비스를 운영하는 형태<br>
    예를 들어 한 기업에서 AWS, Azure의 클라우드 제공 업체의 클라우드를 사용하는 형태
  - 업체 종속성을 피하고, 특정 업체의 클라우드 시스템에 장애가 발생했을 때 서비스에 타격이 발생하지 않음
  - 하이브리드 클라우드는 두 개 이상의 클라우드가 상호 연결되지만 멀티 클라우드는 각각의 클라우드가 통합된 형태가 아님
<br><br>

5. 분산형 클라우드(distributed cloud)<br>
  - 각기 다른 위치의 분산된 집합의 머신들로부터 조합이되어 하나의 네트워크 혹은 허브 서비스로 연결
  - 클라우드 사용자로부터 가장 가까운 클라우드로 서비스를 제공

### 클라우드 서비스 제공 모델
- On-Premises: 서비스에 필요한 모든 것들을 직접 구축 및 관리(집에서 피자 재료를 전부 준비하고 만들어 상차려서 먹기)(자동차 소유)
- Iaas: 인프라 부분만 클라우드에서 사용(피자 재료를 공급받고, 피자를 직접굽고 먹기)(렌트 카 - 운전해서 목적지로)
- Paas: 플랫폼적인 것들까지 클라우드에서 제공받음(구워진 피자를 먹기)(택시 - 타서 목적지를 알려주면 목적지로)
- Saas: SW까지 제공받음(피자 외식)(버스 - 타기만 하면 됨)

### 인터페이스
- 사용자가 기계와 SW를 제어하기 위해 정해진 메뉴얼에 따라 활용하여 원하는 경험을 획득
- 마우스, 키보드와 같이 입력을 위한 인터페이스와, 모니터 프린터와 같이 출력을 위한 인터페이스가 있음
- 상호 합의된 메뉴얼에 따라 적절한 입력을 받아 기대되는 출력을 제공

### API(Application Programming Interface)
- 기계와 기계, SW와 SW간 커뮤니케이션 인터페이스
- 노드와 노드간 데이터를 주고 받기 위한 인터페이스
- 사전에 정해진 정의에 따라 입력이 들어왔을 때 적절한 출력

### REST API
- REST 아키텍처를 따르는 API로 HTTP URI를 통해 자원을 명시, HTTP 메소드를 통해 필요한 연산을 요청하고 반환하는 API
- 데이터나 정보의 교환/요청 등을 위한 인터페이스를 REST 아키텍처를 따라 구현한 API
- 일반적으로 데이터 값을 담아 요청하고 모델이 추론한 결과에 대한 return을 json형태로 변환
- REST API는 요청 메시지만 봐도 어떤 내용으로 되어있는지 알 수 있음

### AI Model Serving
- 학습된 모델을 REST API방식으로 배포하기 위해 학습된 모델을 Serialization과 웹프레임워크를 통해 배포준비 필요
- 모델을 세팅할 때 학습 시의 데이터 분포나 처리방법과의 연속성 유지 필요
- 모델을 배포하는 환경에 따라 다양한 Serving Framework를 고려하여 활용
- 모델 서비스 과정은 아래와 같음
  1. Model Tuning(데이터 처리, 모델 피팅, 평가)<br>
  2. Serializing Model(훈련된 모델을 저장)<br>
  3. Serving Model(저장된 모델을 불러오기, 예측 및 전개)<br>

### Serialization & De-Serialization
- 학습된 모델의 재사용 및 배포를 위해 저장하고 불러오는 것
- Serialization을 통해 ML/DL 모델 객체를 disk에 writhe, 어디든 불러올 수 있는 형태로 보관
- De-Serializaion을 통해 python 혹은 다른환경에서 모델을 불러와 추론/학습에 사용
- 모델을 배포하는 환경을 고려해 환경에 맞는 방법으로 Serialization을 해야 De-Serialization가능

### 느낀점
개념적인 부분이 많이 나왔으나 대부분 추상적인 내용이기 때문에 실제로 서비스하는 과정을 통해 개념을 매칭시키는 것이 중요할 것 같다.<br>
예를들어 API부분의 경우 실제로 요청하고 응답하는 과정을 직접 Flask 서버를 이용하여 구현했을 때<br>
실제로 동작하는 것을 눈으로 확인하고 개녀을 확인하는 것처럼 실제로 AWS실습을 하긴했지만 다시 한 번 해보면서<br>
클라우드에 대한 개념, 운용 모델, 서비스 제공 모델, 서비스 과정에 대한 개념을 잘 매칭시켜야할 것 같다. 
